<!-- Cart/Checkout Page Content -->
<section class="cart-page py-5">
  <div class="container-fluid px-4">
    <!-- Page Header -->


    <div class="row g-4">
      <!-- Left Section - Cart Items -->
      <div class="col-lg-8">
        <div class="card shadow-sm border-0">
          <div class="card-body p-4">
            <div class="d-flex justify-content-between align-items-center mb-4 pb-3 border-bottom">
              <div>
                <h5 class="mb-1 fw-bold">
                  <i class="fa-solid fa-shopping-cart me-2" style="color: #004d40;"></i>
                  Cart
                </h5>
                <p class="text-muted small mb-0">
                  <span class="badge bg-success me-2" id="cartCount">4</span> items in your cart
                </p>
              </div>
              <div class="d-flex align-items-center gap-2">

                <!-- Search Box -->
                <div class="position-relative card-searchbox w-md-auto">
                  <input type="text" class="form-control ps-3 pe-5" placeholder="Search books...">
                  <i class="fas fa-search search-icon-search-box"></i>
                </div>
                <div class="d-flex gap-2 flex-wrap">
                  <a class="btn add-more-btn btn-outline-secondary btn-sm" href="/listing-product">
                    <i class="fa-solid fa-plus me-2"></i>Add More
                  </a>
                </div>

              </div>

            </div>
            <!-- Cart Table -->
            <div class="table-responsive">
              <table class="table table-hover align-middle mb-0">
                <thead class="table-light">
                  <tr>
                    <th class="border-0 py-3 px-3" style="font-weight: 600; font-size: 14px;">Products Name</th>
                    <th class="border-0 py-3 px-3" style="font-weight: 600; font-size: 14px;">Price</th>
                    <th class="border-0 py-3 px-3" style="font-weight: 600; font-size: 14px;">Quantity</th>
                    <th class="border-0 py-3 px-3 text-center" style="font-weight: 600; font-size: 14px;">Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="cart-item-row">
                    <td class="px-3">
                      <div class="d-flex align-items-center">
                        <img src="images/books/books1.png" alt="Book" class="cart-item-img me-3">
                        <div>
                          <h6 class="card-product-name">AZADI KI LADAI KE Jabtashuda Tarane</h6>
                          <small class="text-muted" style="font-size: 12px;">ID: BK001</small>
                        </div>
                      </div>
                    </td>
                    <td class="px-3">
                      <div>
                        <span class="fw-bold d-block text-success" style="font-size: 15px;">Rs. 420.00</span>
                        <button class="btn btn-sm btn-success discount-badge">
                          <i class="fa-solid fa-tag me-1"></i>Save Rs. 250
                        </button>
                      </div>
                    </td>
                    <td class="px-3">
                      <div class="d-flex flex-column gap-2">
                        <div class="quantity-control d-flex align-items-center">
                          <button class="btn btn-sm quantity-btn" data-action="decrease">-</button>
                          <input type="number" class="form-control form-control-sm text-center border-0 quantity-input"
                            value="1" min="1">
                          <button class="btn btn-sm quantity-btn" data-action="increase">+</button>
                        </div>
                      </div>
                    </td>
                    <td class="px-3 text-center">
                      <button class="btn btn-sm btn-outline-danger delete-btn">
                        <i class="fa-solid fa-trash"></i>
                      </button>
                    </td>
                  </tr>
                  <tr class="cart-item-row">
                    <td class="px-3">
                      <div class="d-flex align-items-center">
                        <img src="images/books/books2.png" alt="Book" class="cart-item-img me-3">
                        <div>
                          <h6 class="card-product-name ">SARDAR PATEL SACHITRA JEEVANEE</h6>
                          <small class="text-muted" style="font-size: 12px;">ID: BK002</small>
                        </div>
                      </div>
                    </td>
                    <td class="px-3">
                      <div>
                        <span class="fw-bold d-block text-success" style="font-size: 15px;">Rs. 200.00</span>
                        <button class="btn btn-sm btn-success discount-badge">
                          <i class="fa-solid fa-tag me-1"></i>Save Rs. 200
                        </button>
                      </div>
                    </td>
                    <td class="px-3">
                      <div class="d-flex flex-column gap-2">
                        <small class="text-muted" style="font-size: 11px;">1 box = 60 units</small>
                        <div class="quantity-control d-flex align-items-center">
                          <button class="btn btn-sm quantity-btn" data-action="decrease">-</button>
                          <input type="number" class="form-control form-control-sm text-center border-0 quantity-input"
                            value="2" min="1">
                          <button class="btn btn-sm quantity-btn" data-action="increase">+</button>
                        </div>
                      </div>
                    </td>
                    <td class="px-3 text-center">
                      <button class="btn btn-sm btn-outline-danger delete-btn">
                        <i class="fa-solid fa-trash"></i>
                      </button>
                    </td>
                  </tr>
                  <tr class="cart-item-row">
                    <td class="px-3">
                      <div class="d-flex align-items-center">
                        <img src="images/books/books3.png" alt="Book" class="cart-item-img me-3">
                        <div>
                          <h6 class="card-product-name ">NETAJI - A LIFE IN PICTURES</h6>
                          <small class="text-muted" style="font-size: 12px;">ID: BK003</small>
                        </div>
                      </div>
                    </td>
                    <td class="px-3">
                      <div>
                        <span class="fw-bold d-block text-success" style="font-size: 15px;">Rs. 610.00</span>
                        <button class="btn btn-sm btn-success discount-badge">
                          <i class="fa-solid fa-tag me-1"></i>Save Rs. 300
                        </button>
                      </div>
                    </td>
                    <td class="px-3">
                      <div class="d-flex flex-column gap-2">
                        <small class="text-muted" style="font-size: 11px;">1 box = 60 units</small>
                        <div class="quantity-control d-flex align-items-center">
                          <button class="btn btn-sm quantity-btn" data-action="decrease">-</button>
                          <input type="number" class="form-control form-control-sm text-center border-0 quantity-input"
                            value="1" min="1">
                          <button class="btn btn-sm quantity-btn" data-action="increase">+</button>
                        </div>
                      </div>
                    </td>
                    <td class="px-3 text-center">
                      <button class="btn btn-sm btn-outline-danger delete-btn">
                        <i class="fa-solid fa-trash"></i>
                      </button>
                    </td>
                  </tr>
                  <tr class="cart-item-row">
                    <td class="px-3">
                      <div class="d-flex align-items-center">
                        <img src="images/books/books4.png" alt="Book" class="cart-item-img me-3">
                        <div>
                          <h6 class="card-product-name ">BHAGAT SINGH- SACHITRA JEEVANEE</h6>
                          <small class="text-muted" style="font-size: 12px;">ID: BK004</small>
                        </div>
                      </div>
                    </td>
                    <td class="px-3">
                      <div>
                        <span class="fw-bold d-block text-success" style="font-size: 15px;">Rs. 875.00</span>
                        <button class="btn btn-sm btn-success discount-badge">
                          <i class="fa-solid fa-tag me-1"></i>Save Rs. 400
                        </button>
                      </div>
                    </td>
                    <td class="px-3">
                      <div class="d-flex flex-column gap-2">
                        <small class="text-muted" style="font-size: 11px;">1 box = 60 units</small>
                        <div class="quantity-control d-flex align-items-center">
                          <button class="btn btn-sm quantity-btn" data-action="decrease">-</button>
                          <input type="number" class="form-control form-control-sm text-center border-0 quantity-input"
                            value="1" min="1">
                          <button class="btn btn-sm quantity-btn" data-action="increase">+</button>
                        </div>
                      </div>
                    </td>
                    <td class="px-3 text-center">
                      <button class="btn btn-sm btn-outline-danger delete-btn">
                        <i class="fa-solid fa-trash"></i>
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Pagination -->
            <div class="d-flex justify-content-between align-items-center mt-4 pt-3 border-top">
              <div class="d-flex align-items-center gap-2">
                <label class="mb-0 small text-muted">Show</label>
                <select class="form-select form-select-sm d-inline-block" style="width: 80px;">
                  <option>10</option>
                  <option>20</option>
                  <option>50</option>
                </select>
                <span class="small text-muted">Entries</span>
              </div>
              <nav>
                <ul class="pagination pagination-sm mb-0">
                  <li class="page-item"><a class="page-link" href="#">&laquo;</a></li>
                  <li class="page-item active"><a class="page-link" href="#">1</a></li>
                  <li class="page-item"><a class="page-link" href="#">2</a></li>
                  <li class="page-item"><a class="page-link" href="#">&raquo;</a></li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Section - Order Summary -->
      <div class="col-lg-4">
        <!-- Shipping Details -->
        <div class="card shadow-sm border-0 mb-4">
          <div class="card-header d-flex justify-content-between align-items-center py-3 px-4">
            <h6 class="mb-0 fw-semibold">Shipping Details</h6>
            <button class="btn btn-sm btn-link text-success p-0 fw-semibold" id="addAddressBtn"
              style="text-decoration: none;">
              <i class="fa-solid fa-plus me-1"></i>Add New Address
            </button>
          </div>
          <div class="card-body p-4">
            <div class="shipping-address" id="shippingAddress" style="cursor: pointer;">
              <h6 class="mb-3 fw-bold">Abhishek Pandey</h6>
              <div class="mb-3">
                <p class="mb-2 small">
                  <i class="fa-solid fa-phone me-2 text-muted"></i><span class="text-dark">8676877668</span>
                </p>
                <p class="mb-0 small">
                  <i class="fa-solid fa-envelope me-2 text-muted"></i><span
                    class="text-dark">abhishek@example.com</span>
                </p>
              </div>
              <div class="pt-3 border-top">
                <p class="mb-2 small">
                  <span class="text-muted">Address:</span> <span class="text-dark">Sector 14, Anand Nagar near shani
                    mandir</span>
                </p>
                <p class="mb-2 small">
                  <span class="text-muted">City:</span> <span class="text-dark">Gurugram</span>
                </p>
                <p class="mb-2 small">
                  <span class="text-muted">State:</span> <span class="text-dark">Haryana</span>
                </p>
                <p class="mb-2 small">
                  <span class="text-muted">Country:</span> <span class="text-dark">India</span>
                </p>
                <p class="mb-0 small">
                  <span class="text-muted">Zip Code:</span> <span class="text-dark">110078</span>
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Price Details -->
        <div class="card shadow-sm border-0 mb-4">
          <div class="card-header py-3 px-4">
            <h6 class="mb-0 fw-semibold">Price Details</h6>
          </div>
          <div class="card-body p-4">
            <div class="d-flex justify-content-between mb-3">
              <span class="text-muted small">Order Quantity</span>
              <span class="fw-semibold">11 (612 units)</span>
            </div>
            <div class="d-flex justify-content-between mb-3">
              <span class="text-muted small">Retail Total</span>
              <span class="fw-semibold">Rs. 6,269.40</span>
            </div>
            <div class="d-flex justify-content-between mb-3">
              <span class="text-muted small">Wholesale Total</span>
              <span class="fw-semibold">Rs. 3,412.92</span>
            </div>
            <div class="d-flex justify-content-between mb-3">
              <span class="text-muted small">Extra Discount</span>
              <span class="fw-semibold text-success">3%</span>
            </div>
            <hr class="my-3">
            <div class="d-flex justify-content-between align-items-center">
              <span class="text-decoration-line-through text-muted small">Rs. 3,412.92</span>
              <div class="text-end">
                <div class="text-muted small mb-1">Total</div>
                <span class="fw-bold fs-7 text-success">Rs. 3,310.53</span>
              </div>
            </div>
            <!-- Place Order Button -->
            <button class="btn btn-primary mt-3 w-100 py-2 fs-7 fw-bold shadow-lg">
              <i class="fa-solid fa-shopping-bag me-2"></i>Place Order
            </button>
          </div>
        </div>


      </div>
    </div>
  </div>
</section>

<!---------------------------------- Address Drawer Modal---------------------------------------------------->


<div class="modal fade" id="addressDrawer" tabindex="-1" aria-labelledby="addressDrawerLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-header border-0 pb-0">
        <button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body px-4 pb-4">
        <div class="d-flex align-items-center mb-3 pb-3 border-bottom">
          <button type="button" class="btn btn-link p-0 me-3 text-dark" data-bs-dismiss="modal"
            style="text-decoration: none;">
            <i class="fa-solid fa-arrow-left fs-6"></i>
          </button>
          <h4 class="mb-0 fw-bold">Add New Address</h4>
        </div>

        <form id="addressForm">
          <!-- Contact Information -->
          <div class="mb-3">
            <h5 class="mb-2 fw-bold">Contact Information</h5>
            <div class="row g-2">
              <div class="col-md-6">
                <label for="fullName" class="form-label">Full Name</label>
                <input type="text" class="form-control modal-input" id="fullName" placeholder="Enter your full name"
                  required>
              </div>
              <div class="col-md-6">
                <label for="userName" class="form-label">User Name</label>
                <input type="text" class="form-control modal-input" id="userName" placeholder="Enter User name"
                  required>
              </div>
              <div class="col-md-6">
                <label for="phoneNumber" class="form-label">Phone Number</label>
                <input type="tel" class="form-control modal-input" id="phoneNumber"
                  placeholder="Enter your phone number" required>
              </div>
              <div class="col-md-6">
                <label for="emailAddress" class="form-label">Email Address</label>
                <input type="email" class="form-control modal-input" id="emailAddress" placeholder="Enter your email"
                  required>
              </div>
            </div>
          </div>

          <hr class="my-3">

          <!-- Shipping Address -->
          <div class="mb-2">
            <h5 class="mb-2 fw-bold">Shipping Address</h5>
            <div class="row g-1">
              <div class="col-12">
                <label for="addressLine" class="form-label">Address Line</label>
                <input type="text" class="form-control modal-input" id="addressLine"
                  placeholder="Enter your street address" required>
              </div>
              <div class="col-md-6">
                <label for="city" class="form-label">City</label>
                <input type="text" class="form-control modal-input" id="city" placeholder="Enter your city" required>
              </div>
              <div class="col-md-6">
                <label for="postCode" class="form-label">Post Code</label>
                <input type="text" class="form-control modal-input" id="postCode" placeholder="Enter your Post code"
                  required>
              </div>
              <div class="col-md-6">
                <label for="state" class="form-label">State</label>
                <input type="text" class="form-control modal-input" id="state" placeholder="Enter your state" required>
              </div>
              <div class="col-md-6">
                <label for="country" class="form-label">Country</label>
                <input type="text" class="form-control modal-input" id="country" placeholder="Enter your country"
                  required>
              </div>
            </div>
          </div>
          <div class="d-flex justify-content-end mt-4">
            <button type="submit" class="btn btn-primary text-end mt-4">
              <i class="fa-solid fa-check me-2"></i>Save & Continue
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<script>
  // Quantity Controls
  document.querySelectorAll('.quantity-btn').forEach(btn => {
    btn.addEventListener('click', function () {
      const input = this.parentElement.querySelector('input');
      const action = this.getAttribute('data-action');
      let value = parseInt(input.value);

      if (action === 'increase') {
        value++;
      } else if (action === 'decrease' && value > 1) {
        value--;
      }

      input.value = value;
      updateCartTotal();
    });
  });

  // Open Address Drawer
  const addAddressBtn = document.getElementById('addAddressBtn');
  const shippingAddress = document.getElementById('shippingAddress');
  const addressDrawer = new bootstrap.Modal(document.getElementById('addressDrawer'));

  if (addAddressBtn) {
    addAddressBtn.addEventListener('click', function (e) {
      e.preventDefault();
      addressDrawer.show();
    });
  }

  if (shippingAddress) {
    shippingAddress.addEventListener('click', function () {
      addressDrawer.show();
    });
  }

  // Handle Form Submission
  const addressForm = document.getElementById('addressForm');
  if (addressForm) {
    addressForm.addEventListener('submit', function (e) {
      e.preventDefault();

      // Get form values
      const formData = {
        fullName: document.getElementById('fullName').value,
        userName: document.getElementById('userName').value,
        phoneNumber: document.getElementById('phoneNumber').value,
        emailAddress: document.getElementById('emailAddress').value,
        addressLine: document.getElementById('addressLine').value,
        city: document.getElementById('city').value,
        postCode: document.getElementById('postCode').value,
        state: document.getElementById('state').value,
        country: document.getElementById('country').value
      };

      // Update shipping address display
      updateShippingAddress(formData);

      // Close modal
      addressDrawer.hide();

      // Reset form
      addressForm.reset();
    });
  }

  function updateShippingAddress(data) {
    const addressElement = document.getElementById('shippingAddress');
    if (addressElement) {
      addressElement.innerHTML = `
        <h6 class="mb-3 fw-bold">${data.fullName}</h6>
        <div class="mb-3">
          <p class="mb-2 small">
            <i class="fa-solid fa-phone me-2 text-muted"></i><span class="text-dark">${data.phoneNumber}</span>
          </p>
          <p class="mb-0 small">
            <i class="fa-solid fa-envelope me-2 text-muted"></i><span class="text-dark">${data.emailAddress}</span>
          </p>
        </div>
        <div class="pt-3 border-top">
          <p class="mb-2 small">
            <span class="text-muted">Address:</span> <span class="text-dark">${data.addressLine}</span>
          </p>
          <p class="mb-2 small">
            <span class="text-muted">City:</span> <span class="text-dark">${data.city}</span>
          </p>
          <p class="mb-2 small">
            <span class="text-muted">State:</span> <span class="text-dark">${data.state}</span>
          </p>
          <p class="mb-2 small">
            <span class="text-muted">Country:</span> <span class="text-dark">${data.country}</span>
          </p>
          <p class="mb-0 small">
            <span class="text-muted">Zip Code:</span> <span class="text-dark">${data.postCode}</span>
          </p>
        </div>
      `;
    }
  }

  function updateCartTotal() {
    // Calculate total based on quantities
    // This is a placeholder - implement actual calculation logic
    console.log('Cart total updated');
  }
</script>

